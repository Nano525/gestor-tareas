<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" th:fragment="layout (titulo, activePage, content)">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${titulo} + ' - Gestor de Tareas'">Gestor de Tareas</title>
    <link rel="stylesheet" th:href="@{/css/styles.css?v=3.0}">
    <style>
        /* Forzar estilos crÃ­ticos */
        .sidebar { 
            background: #1a202c !important; 
            width: 300px !important; 
        }
        body { 
            background: #f0f4f8 !important; 
        }
        .main-content { 
            margin-left: 300px !important; 
            background: #f0f4f8 !important; 
        }
        .nav-item { 
            color: #cbd5e0 !important; 
        }
        .nav-item.active {
            color: #ffffff !important;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>ğŸ“‹ Gestor Tareas</h2>
                <div class="user-info">
                    <span>ğŸ‘¤ <strong th:text="${usuarioNombre}">Usuario</strong></span>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <a href="/dashboard" class="nav-item" th:classappend="${activePage == 'dashboard'} ? 'active'">
                    <span>ğŸ </span> <span>Dashboard</span>
                </a>
                <a href="/agregar-tarea" class="nav-item" th:classappend="${activePage == 'agregar'} ? 'active'">
                    <span>â•</span> <span>Agregar Tarea</span>
                </a>
                <a href="/pila" class="nav-item" th:classappend="${activePage == 'pila'} ? 'active'">
                    <span>ğŸ“š</span> <span>Pila (Historial)</span>
                </a>
                <a href="/cola" class="nav-item" th:classappend="${activePage == 'cola'} ? 'active'">
                    <span>ğŸ”„</span> <span>Cola (FIFO)</span>
                </a>
                <a href="/arbol" class="nav-item" th:classappend="${activePage == 'arbol'} ? 'active'">
                    <span>ğŸŒ³</span> <span>Ãrbol Binario</span>
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <a href="/logout" class="logout-btn">ğŸšª Cerrar SesiÃ³n</a>
            </div>
        </aside>

        <main class="main-content">
            <div class="content-wrapper">
                <th:block th:replace="${content}">
                    <!-- Contenido serÃ¡ reemplazado por cada pÃ¡gina -->
                </th:block>
            </div>
        </main>
    </div>
</body>
</html>
